<Window x:Class="BIA.ToolKit.Dialogs.CustomsRepoTemplateUC"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:BIA.ToolKit.ViewModels"
        Title="Custom templates repositories settings"
        Width="700"
        Height="500"
        MinWidth="700"
        MinHeight="500"
        mc:Ignorable="d"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        Style="{StaticResource MaterialDesignWindow}"
        WindowStartupLocation="CenterOwner">

    <Window.DataContext>
        <vm:RepositoriesSettingsVM />
    </Window.DataContext>

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisConverter" />
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <DataGrid Grid.Row="0"
                  Width="680"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  ItemsSource="{Binding RepositoriesSettings}"
                  SelectedItem="{Binding RepositorySettings}">
            <DataGrid.Columns>
                <DataGridTextColumn Binding="{Binding Name}" Header="Name" />
                <DataGridTextColumn Binding="{Binding UseLocalFolder}" Header="Local Repo" />
                <DataGridTextColumn Binding="{Binding Versioning}" Header="Versioning" />
                <DataGridTextColumn Binding="{Binding CompanyName}" Header="Company Name" />
                <DataGridTextColumn Binding="{Binding ProjectName}" Header="Project Name" />
            </DataGrid.Columns>
            <DataGrid.RowDetailsTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>

                        <StackPanel Grid.Row="0"
                                    Margin="10"
                                    Orientation="Horizontal">
                            <Label Content="URL Repo: " FontWeight="Bold" />
                            <TextBox IsReadOnly="True" Text="{Binding UrlRepo}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Margin="10"
                                    Orientation="Horizontal"
                                    Visibility="{Binding UseLocalFolder, Converter={StaticResource BoolToVisConverter}}">
                            <Label Content="Local Repo: " FontWeight="Bold" />
                            <TextBox IsReadOnly="True" Text="{Binding LocalFolderPath}" />
                        </StackPanel>

                        <StackPanel Grid.Row="2"
                                    Margin="10"
                                    Orientation="Horizontal"
                                    Visibility="{Binding HasUrlRelease, Converter={StaticResource BoolToVisConverter}}">
                            <Label Content="URL Release: " FontWeight="Bold" />
                            <TextBox IsReadOnly="True" Text="{Binding UrlRelease}" />
                        </StackPanel>
                    </Grid>
                </DataTemplate>
            </DataGrid.RowDetailsTemplate>
        </DataGrid>

        <!--  Accept or Cancel  -->
        <Grid Grid.Row="1">
            <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
                <Button x:Name="addButton"
                        Margin="5"
                        Click="addButton_Click"
                        Content="Add"
                        Style="{StaticResource MaterialDesignOutlinedButton}" />
                <Button x:Name="editButton"
                        Margin="5"
                        Click="editButton_Click"
                        Content="Edit"
                        IsEnabled="{Binding IsRepoSelected}"
                        Style="{StaticResource MaterialDesignOutlinedButton}" />
                <Button x:Name="deleteButton"
                        Margin="5"
                        Click="deleteButton_Click"
                        Content="Remove"
                        IsEnabled="{Binding IsRepoSelected}"
                        Style="{StaticResource MaterialDesignOutlinedButton}" />
                <Button x:Name="synchronizeButton"
                        Margin="5"
                        Click="synchronizeButton_Click"
                        Content="Synchronize"
                        IsEnabled="{Binding IsRepoSelected}"
                        Style="{StaticResource MaterialDesignPaperDarkButton}" />
            </StackPanel>

            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                <Button x:Name="okButton"
                        Margin="5"
                        Click="okButton_Click"
                        Content="OK"
                        IsDefault="True" />
                <Button x:Name="cancelButton"
                        Margin="5"
                        Content="Cancel"
                        IsCancel="True" />
            </StackPanel>
        </Grid>
    </Grid>

</Window>
